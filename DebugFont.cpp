/*=============================================================================

		デバッグ文字表示[ DebugFont.cpp ]

-------------------------------------------------------------------------------
	■　製作者
		大野拓也

	■　作成日
		2017/06/21
------------------------------------------------------------------------------- 
	■　更新日
		2017/08/18
=============================================================================*/

/*-----------------------------------------------------------------------------
						scanf のwarning防止 
-----------------------------------------------------------------------------*/
#define _CRT_SECURE_NO_WARNINGS

/*-----------------------------------------------------------------------------
	ヘッダファイル
-----------------------------------------------------------------------------*/
#include <string.h>
#include "DirectX.h"
#include "DebugFont.h"

/*-----------------------------------------------------------------------------
	静的変数
-----------------------------------------------------------------------------*/
char CDebugFont::m_Text[] = {};
LPD3DXFONT CDebugFont::m_Font = NULL;

/*-----------------------------------------------------------------------------
 関数名:	void CDebugFont::Init(void)
 引数:		
 戻り値:	
 説明:		初期化
-----------------------------------------------------------------------------*/
void CDebugFont::Init(void)
{
	//	デバイスの取得
	LPDIRECT3DDEVICE9 Device = CDirectX::GetDevice();

	D3DXCreateFont(Device, 18, 0, 0, 0, FALSE, SHIFTJIS_CHARSET,
		OUT_DEFAULT_PRECIS, DEFAULT_QUALITY, DEFAULT_PITCH, "Terminal", &m_Font);
}

/*-----------------------------------------------------------------------------
関数名:		void CDebugFont::Uninit(void)
引数:
戻り値:
説明:		終了
-----------------------------------------------------------------------------*/
void CDebugFont::Uninit(void)
{
	if( m_Font != NULL )
	{
		m_Font->Release();
		m_Font = NULL;			
	}
}

/*-----------------------------------------------------------------------------
関数名:		void CDebugFont::Draw(void)
引数:
戻り値:
説明:		描画
-----------------------------------------------------------------------------*/
void CDebugFont::Draw(void)
{

	RECT rect = { 0, 30, SCREEN_WIDTH, SCREEN_HEIGHT };


	m_Font->DrawText(NULL, m_Text, -1, &rect, DT_LEFT, D3DCOLOR_ARGB(0xff, 0xff, 0xff, 0xff));

}

/*-----------------------------------------------------------------------------
関数名:		void CDebugFont::ClarText(void)
引数:
戻り値:
説明:		文字の消去
-----------------------------------------------------------------------------*/
void CDebugFont::ClarText(void)
{
	strcpy(m_Text, "");
}

/*-----------------------------------------------------------------------------
関数名:		void CDebugFont::AddText(char *Text)
引数:
戻り値:
説明:		文字の追加
-----------------------------------------------------------------------------*/
void CDebugFont::AddText(char *Text)
{
	strcat(m_Text, Text);
}