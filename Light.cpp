/*=============================================================================

		���C�g[ Light.cpp ]

-------------------------------------------------------------------------------

	���@�쐬��
		2017/08/25
------------------------------------------------------------------------------- 
	���@�X�V��
		2017/08/27
=============================================================================*/

/*-----------------------------------------------------------------------------
	�w�b�_�t�@�C��
-----------------------------------------------------------------------------*/
#include "DirectX.h"
#include "Light.h"

/*-----------------------------------------------------------------------------
�֐���:		CLight::CLight()
����:
�߂�l:
����:		�R���X�g���N�^
-----------------------------------------------------------------------------*/
CLight::CLight()
{
	//	�S��0�ɂ���
	ZeroMemory(&m_Light, sizeof(D3DLIGHT9));
}
/*-----------------------------------------------------------------------------
 �֐���:	HRESULT CLight::Init(void)
 ����:		
 �߂�l:	return S_OK;	����
 ����:		������
-----------------------------------------------------------------------------*/
HRESULT CLight::Init(void)
{
	//	�f�o�C�X�̎擾
	LPDIRECT3DDEVICE9 Device = CDirectX::GetDevice();


	m_Light.Type = D3DLIGHT_DIRECTIONAL;

	//	�f�B���N�V���i�����C�g�̐F
	m_Light.Diffuse = D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f);

	//	�A���r�G���g���C�g�̐F
	m_Light.Ambient = D3DXCOLOR(0.5f, 0.0f, 0.5f, 1.0f);

	//	�f�B���N�V���i�����C�g�̌���
	D3DXVECTOR3 vecDir(50.0f, -1000.0f, 50.0f);

	//	�P�ʃx�N�g���ɂ���light.Direction�Ɍv�Z���ʂ���
	D3DXVec3Normalize((D3DXVECTOR3 *)&m_Light.Direction, &vecDir);

	//	�f�o�C�X�Ƀ��C�g��ݒ�
	Device->SetLight(0, &m_Light);

	//	���C�g��ON�ɂ���
	Device->LightEnable(0, TRUE);

	//	�S�̂̃��C�g��L���ɂ���
	Device->SetRenderState(D3DRS_LIGHTING, TRUE);

	return S_OK;
}