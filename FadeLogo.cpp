/*=============================================================================

		ï¿½tï¿½Fï¿½[ï¿½hï¿½ï¿½ï¿½S[ FadeLogo.cpp ]

-------------------------------------------------------------------------------

	ï¿½ï¿½ï¿½@ï¿½ì¬ï¿½ï¿½
		2017/07/20
------------------------------------------------------------------------------- 
	ï¿½ï¿½ï¿½@ï¿½Xï¿½Vï¿½ï¿½
		2017/08/27
=============================================================================*/

/*-----------------------------------------------------------------------------
	ï¿½wï¿½bï¿½_ï¿½tï¿½@ï¿½Cï¿½ï¿½
-----------------------------------------------------------------------------*/
#include "DirectX.h"
#include "TextureManager.h"
#include "Scene.h"
#include "Sprite2D.h"
#include "FadeLogo.h"

/*-----------------------------------------------------------------------------
	ï¿½è”ï¿½ï¿½`
-----------------------------------------------------------------------------*/
#define FADE_RATE ( 1.0f / 60 )	//	ï¿½Ç‚Ì‚ï¿½ï¿½ç‚¢ï¿½Åƒtï¿½Fï¿½[ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½

/*-----------------------------------------------------------------------------
ï¿½Öï¿½ï¿½ï¿½:		CFadeRogo::CFadeRogo(int Priolity)
ï¿½ï¿½ï¿½ï¿½:		int Priolity	ï¿½Dï¿½ï¿½x
ï¿½ß‚ï¿½l:
ï¿½ï¿½ï¿½ï¿½:		ï¿½Rï¿½ï¿½ï¿½Xï¿½gï¿½ï¿½ï¿½Nï¿½^
-----------------------------------------------------------------------------*/
CFadeRogo::CFadeRogo(int Priolity) :CSprite2D(Priolity)
{
	m_Color = D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f);	//	ï¿½F
	m_UplimitFade = 0.0f;	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Ìï¿½ï¿½ï¿½l
	m_LowerFade = 0.0f;		//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Ì‰ï¿½ï¿½ï¿½ï¿½l
	m_FadeFlag = true;		//	ï¿½tï¿½Fï¿½[ï¿½hï¿½tï¿½ï¿½ï¿½O

	m_Fade = FADE_IN;
}

/*-----------------------------------------------------------------------------
ï¿½Öï¿½ï¿½ï¿½:		CFadeRogo* CFadeRogo::Create(int Priolity)
ï¿½ï¿½ï¿½ï¿½:		int Priolity	ï¿½Dï¿½ï¿½x
ï¿½ß‚ï¿½l:
ï¿½ï¿½ï¿½ï¿½:		ï¿½ï¿½ï¿½ï¿½
-----------------------------------------------------------------------------*/
CFadeRogo* CFadeRogo::Create(int Priolity)
{
	CFadeRogo* faderogo;

	faderogo = new CFadeRogo(Priolity);

	faderogo->Init();

	return faderogo;
}

/*-----------------------------------------------------------------------------
ï¿½Öï¿½ï¿½ï¿½:		void CFadeRogo::Update(void)
ï¿½ï¿½ï¿½ï¿½:
ï¿½ß‚ï¿½l:
ï¿½ï¿½ï¿½ï¿½:		ï¿½Xï¿½V
-----------------------------------------------------------------------------*/
void CFadeRogo::Update(void)
{
	if (m_FadeFlag)
	{
		if (m_Fade == FADE_IN)
		{	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½


			m_Color.a -= FADE_RATE;	//	aï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½ï¿½ï¿½ÄŒï¿½ï¿½Ì‰ï¿½Ê‚ğ•‚‚ï¿½ï¿½Ñã‚ªï¿½ç‚¹ï¿½ï¿½

			if (m_Color.a < m_LowerFade)
			{	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½ÌIï¿½ï¿½

				m_Color.a = m_LowerFade;
				m_Fade = FADE_OUT;

			}
		}


		else if (m_Fade == FADE_OUT)
		{	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Aï¿½Eï¿½gï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½

			m_Color.a += FADE_RATE;	//	aï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½ï¿½ï¿½ÄŒï¿½ï¿½Ì‰ï¿½Ê‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½


			if (m_Color.a > m_UplimitFade)
			{	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Aï¿½Eï¿½gï¿½ÌIï¿½ï¿½

				m_Color.a = m_UplimitFade;
				m_Fade = FADE_IN;	//	ï¿½tï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½Éï¿½ï¿½ï¿½ï¿½ÌØ‚ï¿½Ö‚ï¿½

			}
		}
	}

	CSprite2D::SetColor(m_Color);

	CSprite2D::Update();
}